!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("@floating-ui/dom")):"function"==typeof define&&define.amd?define(["@floating-ui/dom"],e):"object"==typeof exports?exports.EasePopup=e(require("@floating-ui/dom")):t.EasePopup=e(t["@floating-ui/dom"])}(this,(t=>(()=>{"use strict";var e={784:e=>{e.exports=t}},o={};function n(t){var i=o[t];if(void 0!==i)return i.exports;var s=o[t]={exports:{}};return e[t](s,s.exports,n),s.exports}n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var i={};return(()=>{n.d(i,{default:()=>k});var t=n(784);const e={target:null,popup:null,container:"body",direction:"bottom",width:"auto",content:"",placement:"outside",needArrow:!0,singleOpen:!0,selfClick:!0,closeByOutSide:!0,fullScreen:!1,targetGap:15,boundryGap:5,offset:[0,0],theme:"light",onShow:function(){},onHide:function(){},onDestroy:function(){}},o="ease-popup",s="ease-popup-arrow",c="ease-popup-modal",r={popup:[".".concat(o),["display","none"],["position","absolute"],["box-sizing","border-box"],["padding","8px"],["box-shadow","0px 0px 6px rgba(0, 0, 0, 0.2)"],["border-radius","4px"],["border","none"],["outline","none"],["margin","0"],["width","max-content"]],arrow:[".".concat(o," .").concat(s),["display","block"],["position","absolute"],["width","10px"],["height","10px"],["background-color"," inherit"],["box-shadow","-1px 1px 1px rgba(0, 0, 0, 0.1)"]],dialog:["dialog[open]",["display","block",!0],["overflow","initial"]]},l={light:{background:"#ffffff",color:"#333333"},dark:{background:"#333333",color:"#ffffff"}},a={rotate:{top:-45,bottom:135,left:225,right:45},side:{top:"bottom",right:"left",bottom:"top",left:"right"}},p={outside:["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end"],inside:["left","left-start","left-end","right","right-start","right-end","center","center-start","center-end"]},d=e=>({name:"preventOverflow",fn:async o=>({data:await(0,t.detectOverflow)(o,e)})});function u(t){Object.assign(t.elements.floating.style,{maxWidth:"".concat(t.availableWidth,"px"),maxHeight:"".concat(t.availableHeight,"px")})}function h(){const e=function(e){const o={boundary:e.container,padding:e.boundryGap},n="inside"===e.placement?function(t){const{direction:e,width:o,offset:n}=t;return t=>{let{rects:i}=t;const s={mainAxis:0,crossAxis:0},[c=0,r=0]=n;return e.includes("center")&&(s.mainAxis=i.reference.width/2-i.floating.width/2+c,s.crossAxis=i.reference.height/2-i.floating.height/2+r),(e.includes("left")||e.includes("right"))&&(s.mainAxis=-(o+c),s.crossAxis=0+r),s}}(e):e.targetGap,i={placement:e.direction,middleware:[(0,t.offset)(n),(0,t.flip)(o),(0,t.shift)(o),d(o),(0,t.size)({...o,apply:u}),(0,t.hide)(o)]};return e.needArrow&&i.middleware.push((0,t.arrow)({element:b(e.popup)})),i}(this.options);(0,t.computePosition)(this.options.target,this.options.popup,e).then((t=>{this.options.direction=t.placement,function(t,e){const o=f(t.popup),{popup:n,theme:i,needArrow:s}=t,{x:c,y:r,placement:l,middlewareData:p}=e,d=b(n),u={left:"".concat(c,"px"),top:"".concat(r,"px"),"z-index":"".concat(o),"background-color":"".concat(i.background),color:"".concat(i.color)};if(Object.assign(n.style,u),s){const{x:t,y:e}=p.arrow,n=l.split("-")[0],i=a.side[n],s=a.rotate[n],c={left:null!=t?"".concat(t,"px"):"",top:null!=e?"".concat(e,"px"):"","z-index":"".concat(o-1),transform:"rotate(".concat(s,"deg)"),[i]:"-5px"};Object.assign(d.style,c)}else Object.assign(d.style,{display:"none"});n.style.visibility=p.hide.referenceHidden?"hidden":"visible"}(this.options,t)}))}function f(t){const e=[...document.querySelectorAll("*")].filter((t=>"auto"!==getComputedStyle(t).zIndex)).map((t=>getComputedStyle(t).zIndex)),o=e.length>0?Math.max(...e):0,n="auto"==getComputedStyle(t).zIndex?0:getComputedStyle(t).zIndex;return o>n?o+2:n}function m(t){const{container:e,target:o,popup:n}=t;o||console.error("the target option is required"),e||console.error("the container option is invalid"),e.contains(o)||console.warn("the target element is outside the containerï¼Œpopup will be hidden"),e.contains(n)||document.body.contains(n)||document.body.appendChild(n)}function g(t){let e;return"string"===y(t)&&(e=document.getElementById(t)||document.getElementsByClassName(t)[0]||document.querySelector(t)),y(t).includes("element")&&(e=t),e}function y(t){return Object.prototype.toString.call(t).replace("object ","").match(/\w+/g)[0].toLowerCase()}function b(t){let e=t.querySelector(".".concat(s));return e||(e=document.createElement("div"),e.classList.add(s),t.appendChild(e)),e}function w(t){let e=g(".".concat(c));const{container:o,show:n,fullScreen:i,destroy:s}=t;if(!e&&o)if(e=document.createElement("div"),e.className=c,e.style.zIndex=f(t.popup)-1,e.style.position="fixed",e.style.backgroundColor="rgba(0, 0, 0, 0.1)",document.body.appendChild(e),i)e.style.inset="0";else{const{left:t,top:n}=getComputedStyle(o),{x:i,y:s,width:c,height:r}=o.getBoundingClientRect();e.style.left="".concat(t&&"auto"!=t?t:i+"px"),e.style.top="".concat(n&&"auto"!=n?n:s+"px"),e.style.width="".concat(c,"px"),e.style.height="".concat(r,"px")}return e&&(e.style.display=n?"block":"none",s&&e.remove()),e}function x(t,n){n||(n=e);const i=Object.assign({},n,t);return i.target=g(i.target),i.container=g(i.container),"inside"===i.placement&&(i.needArrow=!1,i.container=i.target),i.target===document.body&&(i.fullScreen=!0),i.theme&&l[i.theme]&&(i.theme=l[i.theme]),"auto"!==i.width&&isNaN(i.width)&&console.error("the width option is invalid"),isNaN(i.targetGap)&&console.error("the targetGap option is invalid"),isNaN(i.boundryGap)&&console.error("the boundryGap option is invalid"),Object.keys(p).includes(i.placement)||console.error("the placement option is invalid"),p[i.placement].includes(i.direction)||console.error("the direction does not comply with the placement option: '".concat(i.placement,"'")),i.onShow&&"function"!=typeof i.onShow&&console.error("the onShow option is invalid"),i.onHide&&"function"!=typeof i.onHide&&console.error("the onHide option is invalid"),i.onDestroy&&"function"!=typeof i.onDestroy&&console.error("the onDestroy option is invalid"),i.popup=function(t){let e=g(t.popup);if(e||(e=document.createElement("dialog")),!e.showPopup&&"function"!=typeof e.showPopup){const o={visible:{value:!1,writable:!0,configurable:!1},showPopup:{value:function(){this.visible=!0,"DIALOG"===this.nodeName?this.show():this.style.display="block",t.onShow&&t.onShow()},writable:!1,configurable:!1},showPopupModal:{value:function(e,o){this.visible=!0,"DIALOG"===this.nodeName?(this.showModal(),t.onShow&&t.onShow()):w({container:e,show:!0,fullScreen:o})},writable:!1,configurable:!1},hidePopup:{value:function(e){this.visible=!1,"DIALOG"===this.nodeName?this.close():(this.style.display="none",w({show:!1,destroy:e})),t.onHide&&t.onHide()},writable:!1,configurable:!1}};Object.defineProperties(e,o)}const n=e.className.split(" ");return n.includes(o)||n.push(o),e.className=n.join(" ").trim(),t.content&&(e.innerHTML="<div class='".concat(o,"-content'>").concat(t.content,"</div>")),t.width&&(e.style.width="".concat(t.width,"px")),e}(i),i}function v(t){if(!this.options.target.contains(t.target)||this.options.target===document.body||this.options.target===this.options.container){const{x:e,y:o,width:n,height:i}=this.options.popup.getBoundingClientRect(),s=e+n,c=o+i;this.options.closeByOutSide&&(t.clientX>s||t.clientX<e||t.clientY>c||t.clientY<o)&&this.hide(),this.options.selfClick||t.clientX>e&&t.clientX<s&&t.clientY>o&&t.clientY<c&&this.hide()}}function S(t,e){let o;if(document.getElementById(e))o=document.getElementById(e).sheet;else{const t=document.createElement("style");t.id=e,t.type="text/css",document.getElementsByTagName("head")[0].appendChild(t),window.createPopup||t.appendChild(document.createTextNode("")),o=document.styleSheets[document.styleSheets.length-1]}for(let e=0;e<t.length;e++){let n=t[e],i=n[0];if([...o.rules].filter((t=>t.selectorText===i)).length)break;let s=1,c="";for("[object Array]"===Object.prototype.toString.call(n[1][0])&&(n=n[1],s=0);s<n.length;s++){let t=n[s];c+="".concat(t[0],":").concat(t[1]).concat(t[2]?" !important":"",";\n")}o.insertRule?o.insertRule(i+"{"+c+"}",o.cssRules.length):o.addRule(i,c,-1)}}const k=class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.update(t),this.handleClick=v.bind(this);for(const t in r)S([r[t]],o)}update(e){this.options=this.options?x(e,this.options):x(e);const o=h.bind(this);this.options.popup&&this.options.target&&(this.cleanup=(0,t.autoUpdate)(this.options.target,this.options.popup,o))}show(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(m(this.options),t||this.options.popup.showPopup(),this.options.singleOpen){const t=[...document.getElementsByClassName(o)].filter((t=>t!==this.options.popup));t.length&&t.forEach((t=>t.hidePopup&&t.hidePopup()))}document.addEventListener("click",this.handleClick,!0)}showModal(){this.show("DIALOG"===this.options.popup.nodeName),this.options.popup.showPopupModal(this.options.container,this.options.fullScreen)}hide(){m(this.options),this.options.popup.hidePopup(),document.removeEventListener("click",this.handleClick,!0)}destroy(){this.cleanup(),document.removeEventListener("click",this.handleClick,!0),this.options.popup.remove(),this.options.onDestroy&&this.options.onDestroy();for(let t in this)this[t]=null}}})(),i.default})()));