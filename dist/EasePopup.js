!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("@floating-ui/dom")):"function"==typeof define&&define.amd?define(["@floating-ui/dom"],e):"object"==typeof exports?exports.EasePopup=e(require("@floating-ui/dom")):t.EasePopup=e(t["@floating-ui/dom"])}(this,(t=>(()=>{"use strict";var e={784:e=>{e.exports=t}},o={};function n(t){var i=o[t];if(void 0!==i)return i.exports;var s=o[t]={exports:{}};return e[t](s,s.exports,n),s.exports}n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var i={};return(()=>{n.d(i,{default:()=>P});var t=n(784);const e={target:null,popup:null,container:"body",direction:"bottom",width:"auto",content:"",placement:"outside",needArrow:!0,singleOpen:!0,selfClick:!0,closeByOutSide:!0,fullScreen:!1,targetGap:15,boundryGap:5,offset:[0,0],theme:"light",onShow:function(){},onHide:function(){},onDestroy:function(){}},o="ease-popup",s="ease-popup-arrow",l="ease-popup-modal",c="ease-popup-fullscreen",r={popup:[".".concat(o),["display","none"],["position","absolute"],["box-sizing","border-box"],["padding","8px"],["box-shadow","0px 0px 6px rgba(0, 0, 0, 0.2)"],["border-radius","4px"],["border","none"],["outline","none"],["margin","0"],["width","max-content"]],arrow:[".".concat(o," .").concat(s),["display","block"],["position","absolute"],["width","10px"],["height","10px"],["background-color"," inherit"],["box-shadow","-1px 1px 1px rgba(0, 0, 0, 0.1)"]],dialog:["dialog[open]",["display","block",!0],["overflow","initial"]]},a={light:{background:"#ffffff",color:"#333333"},dark:{background:"#333333",color:"#ffffff"}},p={rotate:{top:-45,bottom:135,left:225,right:45},side:{top:"bottom",right:"left",bottom:"top",left:"right"}},d={outside:["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end"],inside:["left","left-start","left-end","right","right-start","right-end","center","center-start","center-end"]},u=e=>({name:"preventOverflow",fn:async o=>({data:await(0,t.detectOverflow)(o,e)})});function h(t){Object.assign(t.elements.floating.style,{maxWidth:"".concat(t.availableWidth,"px"),maxHeight:"".concat(t.availableHeight,"px")})}function f(){const e=function(e){const o={boundary:e.container,padding:e.boundryGap},n="inside"===e.placement?function(t){const{direction:e,width:o,offset:n}=t;return t=>{let{rects:i}=t;const s={mainAxis:0,crossAxis:0},[l=0,c=0]=n;return e.includes("center")&&(s.mainAxis=i.reference.width/2-i.floating.width/2+l,s.crossAxis=i.reference.height/2-i.floating.height/2+c),(e.includes("left")||e.includes("right"))&&(s.mainAxis=-("auto"==o?i.floating.width:Number(o))-l,s.crossAxis=0+c),s}}(e):e.targetGap,i={placement:e.direction,middleware:[(0,t.offset)(n),(0,t.flip)(o),(0,t.shift)(o),u(o),(0,t.size)({...o,apply:h}),(0,t.hide)(o)]};return e.needArrow&&i.middleware.push((0,t.arrow)({element:x(e.popup)})),i}(this.options);(0,t.computePosition)(this.options.target,this.options.popup,e).then((t=>{this.options.direction=t.placement,function(t,e){const{popup:o,theme:n,needArrow:i}=t,{x:l,y:r,placement:a,middlewareData:d}=e,u=o.querySelector(".".concat(s)),h={left:"".concat(l,"px"),top:"".concat(r,"px"),"background-color":"".concat(n.background),color:"".concat(n.color),position:"absolute",visibility:d.hide.referenceHidden?"hidden":"visible"};if(t.fullScreen||o.classList.remove(c),Object.assign(o.style,h),u&&i){const{x:t,y:e}=d.arrow,o=a.split("-")[0],n=p.side[o],i=p.rotate[o],s={left:null!=t?"".concat(t,"px"):"",top:null!=e?"".concat(e,"px"):"",transform:"rotate(".concat(i,"deg)"),display:"block",[n]:"-5px"};Object.assign(u.style,s)}else u&&!i&&Object.assign(u.style,{display:"none"})}(this.options,t)}))}function g(t){const e=[...document.querySelectorAll("*")].filter((t=>"auto"!==getComputedStyle(t).zIndex)).map((t=>getComputedStyle(t).zIndex)),o=e.length>0?Math.max(...e):0,n="auto"==getComputedStyle(t).zIndex?0:getComputedStyle(t).zIndex;return o>n?o+2:n}function m(t){let e=window.innerWidth;const o=window.innerHeight;e-=e-document.body.clientWidth;const{direction:n,popup:i,offset:l,boundryGap:r}=t;let{width:a,height:p}=function(t){if("none"===getComputedStyle(t).getPropertyValue("display")){const e=[{key:"display",value:"block",origin:getComputedStyle(t).getPropertyValue("display")},{key:"pointer-events",value:"none",origin:getComputedStyle(t).getPropertyValue("pointer-events")},{key:"visibility",value:"hidden",origin:getComputedStyle(t).getPropertyValue("visibility")},{key:"z-index",value:-999,origin:getComputedStyle(t).getPropertyValue("z-index")}];for(const o of e)t.style[o.key]=o.value;const o=t.getBoundingClientRect();for(const o of e)t.style[o.key]=o.origin;return o}return t.getBoundingClientRect()}(i);e-2*r<a&&(a=e-2*r);const d=n.split("-")[0],u=n.split("-")[1];let h=0,f=0;switch(d){case"left":h=0+r+l[0],f=o/2-p/2+l[1];break;case"right":h=e-a-r-l[0],f=o/2-p/2-l[1];break;case"center":h=e/2-a/2+l[0],f=o/2-p/2+l[1]}switch(u){case"start":f=0+r+l[1];break;case"end":f=o-p-r-l[1]}i.querySelector(".".concat(s))&&(i.querySelector(".".concat(s)).style.display="none"),i.classList.add(c),C([[".".concat(c),["position","fixed",!0],["visibility","visible",!0],["left","".concat(h,"px"),!0],["top","".concat(f,"px"),!0]]])}function y(t){const{container:e,target:o,popup:n}=t;o||console.error("the target option is required"),e||console.error("the container option is invalid"),e.contains(o)||console.warn("the target element is outside the containerï¼Œpopup will be hidden"),e.contains(n)||document.body.contains(n)||document.body.appendChild(n)}function b(t){let e;return"string"===w(t)&&(e=document.getElementById(t)||document.getElementsByClassName(t)[0]||document.querySelector(t)),w(t).includes("element")&&(e=t),e}function w(t){return Object.prototype.toString.call(t).replace("object ","").match(/\w+/g)[0].toLowerCase()}function x(t){let e=t.querySelector(".".concat(s));return e||(e=document.createElement("div"),e.classList.add(s),t.appendChild(e)),e.style.zIndex=g(t)-1,e}function v(t,e,o){let n=b(".".concat(l));if(!n&&t.container&&e){const{container:e,popup:o,fullScreen:i}=t;n=document.createElement("div"),n.className=l,n.style.zIndex=g(o)-1,n.style.backgroundColor="rgba(0, 0, 0, 0.1)",n.style.inset="0",i?(n.style.position="fixed",document.body.appendChild(n)):(n.style.position="absolute",t.container.style.position="relative",e.appendChild(n))}return n&&(n.style.display=e?"block":"none",o&&n.remove()),n}function S(t,n){n||(n=e);const i=Object.assign({},n,t);return i.target=b(i.target),i.container=b(i.container),i.fullScreen=i.target===document.body,"inside"===i.placement&&(i.needArrow=!1,i.container=i.target),i.theme&&a[i.theme]&&(i.theme=a[i.theme]),"auto"!==i.width&&isNaN(i.width)&&console.error("the width option is invalid"),isNaN(i.targetGap)&&console.error("the targetGap option is invalid"),isNaN(i.boundryGap)&&console.error("the boundryGap option is invalid"),Object.keys(d).includes(i.placement)||console.error("the placement option is invalid"),d[i.placement].includes(i.direction)||console.error("the direction does not comply with the placement option: '".concat(i.placement,"'")),i.onShow&&"function"!=typeof i.onShow&&console.error("the onShow option is invalid"),i.onHide&&"function"!=typeof i.onHide&&console.error("the onHide option is invalid"),i.onDestroy&&"function"!=typeof i.onDestroy&&console.error("the onDestroy option is invalid"),i.popup=function(t){let e=b(t.popup);if(e||(e=document.createElement("dialog")),t.needArrow&&x(e),!e.showPopup&&"function"!=typeof e.showPopup){const o={visible:{value:!1,writable:!0,configurable:!1},showPopup:{value:function(){this.visible=!0,"DIALOG"===this.nodeName?this.show():this.style.display="block",t.onShow&&t.onShow()},writable:!1,configurable:!1},showPopupModal:{value:function(e){this.visible=!0,"DIALOG"===this.nodeName?e?this.showModal():this.show():this.style.display="block",t.onShow&&t.onShow()},writable:!1,configurable:!1},hidePopup:{value:function(){this.visible=!1,"DIALOG"===this.nodeName?this.close():this.style.display="none",t.onHide&&t.onHide()},writable:!1,configurable:!1}};Object.defineProperties(e,o)}const n=e.className.split(" ");return n.includes(o)||n.push(o),e.className=n.join(" ").trim(),e.style.zIndex=g(e),e.style.width="auto"==t.width?"fit-content":"".concat(t.width,"px"),t.content&&(e.innerHTML="<div class='".concat(o,"-content'>").concat(t.content,"</div>")),e}(i),i}function k(t){if(!this.options.target.contains(t.target)||this.options.target===document.body||this.options.target===this.options.container){const{x:e,y:o,width:n,height:i}=this.options.popup.getBoundingClientRect(),s=e+n,l=o+i;this.options.closeByOutSide&&(t.clientX>s||t.clientX<e||t.clientY>l||t.clientY<o)&&this.hide(),this.options.selfClick||t.clientX>e&&t.clientX<s&&t.clientY>o&&t.clientY<l&&this.hide()}}function C(t,e){let o;if(document.getElementById(e))o=document.getElementById(e).sheet;else{const t=document.createElement("style");t.id=e,t.type="text/css",document.getElementsByTagName("head")[0].appendChild(t),window.createPopup||t.appendChild(document.createTextNode("")),o=document.styleSheets[document.styleSheets.length-1]}for(let e=0;e<t.length;e++){let n=t[e],i=n[0],s=[...o.cssRules].map((t=>t.selectorText)).indexOf(i);s>-1&&o.deleteRule(s);let l=1,c="";for("[object Array]"===Object.prototype.toString.call(n[1][0])&&(n=n[1],l=0);l<n.length;l++){let t=n[l];c+="".concat(t[0],":").concat(t[1]).concat(t[2]?" !important":"",";\n")}o.insertRule?o.insertRule(i+"{"+c+"}",o.cssRules.length):o.addRule(i,c,-1)}}const P=class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.update(t),this.handleClick=k.bind(this);for(const t in r)C([r[t]],o)}update(e){if(this.options=this.options?S(e,this.options):S(e),this.options.popup&&this.options.target)if(this.options.fullScreen)this.cleanup&&this.cleanup(),m(this.options);else{const e=f.bind(this);this.cleanup=(0,t.autoUpdate)(this.options.target,this.options.popup,e)}}show(){if(y(this.options),this.options.fullScreen&&m(this.options),this.options.popup.showPopup(),this.options.singleOpen){const t=[...document.getElementsByClassName(o)].filter((t=>t!==this.options.popup));t.length&&t.forEach((t=>t.hidePopup&&t.hidePopup()))}document.addEventListener("click",this.handleClick,!0)}showModal(){if(this.options.popup.showPopupModal(this.options.fullScreen),this.options.fullScreen||v(this.options,!0,!1),this.options.singleOpen){const t=[...document.getElementsByClassName(o)].filter((t=>t!==this.options.popup));t.length&&t.forEach((t=>t.hidePopup&&t.hidePopup()))}document.addEventListener("click",this.handleClick,!0)}hide(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];y(this.options),this.options.popup.hidePopup(),this.options.fullScreen||v(this.options,!1,t),document.removeEventListener("click",this.handleClick,!0)}destroy(){this.hide(!0),this.options.popup.remove(),this.options.onDestroy&&this.options.onDestroy(),this.cleanup&&this.cleanup();for(let t in this)this[t]=null}}})(),i.default})()));