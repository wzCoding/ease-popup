!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("@floating-ui/dom")):"function"==typeof define&&define.amd?define(["@floating-ui/dom"],e):"object"==typeof exports?exports.EasePopup=e(require("@floating-ui/dom")):t.EasePopup=e(t["@floating-ui/dom"])}(this,(t=>(()=>{"use strict";var e={784:e=>{e.exports=t}},o={};function n(t){var i=o[t];if(void 0!==i)return i.exports;var c=o[t]={exports:{}};return e[t](c,c.exports,n),c.exports}n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var i={};return(()=>{n.d(i,{default:()=>j});var t=n(784);const e={direction:"bottom",width:"auto",content:"",placement:"outside",needArrow:!0,singleOpen:!0,selfClick:!0,closeByOutSide:!0,fullScreen:!1,container:"body",targetGap:15,boundryGap:5,offset:[0,0],theme:"light"},o="ease-popup",c="ease-popup-arrow",s="ease-popup-modal",a={popup:[".".concat(o),["display","none"],["position","absolute"],["box-sizing","border-box"],["padding","8px"],["box-shadow","0px 0px 6px rgba(0, 0, 0, 0.2)"],["border-radius","4px"],["border","none"],["outline","none"],["margin","0"],["width","max-content"]],arrow:[".".concat(o," .").concat(c),["display","block"],["position","absolute"],["width","10px"],["height","10px"],["background-color"," inherit"],["box-shadow","-1px 1px 1px rgba(0, 0, 0, 0.1)"]],dialog:["dialog[open]",["display","block",!0],["overflow","initial"]]},l={light:{background:"#ffffff",color:"#333333"},dark:{background:"#333333",color:"#ffffff"}},r={rotate:{top:-45,bottom:135,left:225,right:45},side:{top:"bottom",right:"left",bottom:"top",left:"right"}},d={outside:["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end"],inside:["left","left-start","left-end","right","right-start","right-end","center","center-start","center-end"]},p=e=>({name:"preventOverflow",fn:async o=>({data:await(0,t.detectOverflow)(o,e)})});function u(t){Object.assign(t.elements.floating.style,{maxWidth:"".concat(t.availableWidth,"px"),maxHeight:"".concat(t.availableHeight,"px")})}function h(){const e=function(e,o){const n={boundary:o.container,padding:o.boundryGap},i="inside"===o.placement?function(t){const{direction:e,width:o,offset:n}=t;return t=>{let{rects:i}=t;const c={mainAxis:0,crossAxis:0},[s=0,a=0]=n;return e.includes("center")&&(c.mainAxis=i.reference.width/2-i.floating.width/2+s,c.crossAxis=i.reference.height/2-i.floating.height/2+a),(e.includes("left")||e.includes("right"))&&(c.mainAxis=-(o+s),c.crossAxis=0+a),c}}(o):o.targetGap,c={placement:o.direction,middleware:[(0,t.offset)(i),(0,t.flip)(n),(0,t.shift)(n),p(n),(0,t.size)({...n,apply:u}),(0,t.hide)(n)]};return o.needArrow&&c.middleware.push((0,t.arrow)({element:y(e)})),c}(this.popup,this.options);(0,t.computePosition)(this.target,this.popup,e).then((t=>{this.options.direction=t.placement,f.call(this,t)}))}function f(t){const e=m()+2,{popup:o,options:n}=this,{x:i,y:c,placement:s,middlewareData:a}=t,l={left:"".concat(i,"px"),top:"".concat(c,"px"),"z-index":"".concat(e),"background-color":"".concat(n.theme.background),color:"".concat(n.theme.color)};if(Object.assign(o.style,l),n.needArrow){const t=y(o),{x:n,y:i}=a.arrow,c=s.split("-")[0],l=r.side[c],d=r.rotate[c],p={left:null!=n?"".concat(n,"px"):"",top:null!=i?"".concat(i,"px"):"","z-index":"".concat(e-1),transform:"rotate(".concat(d,"deg)"),[l]:"-5px"};Object.assign(t.style,p)}o.style.visibility=a.hide.referenceHidden?"hidden":"visible"}function m(){const t=[...document.querySelectorAll("*")].map((t=>"auto"!==getComputedStyle(t).zIndex));return t.length>0?Math.max(...t)+1:0}function g(t){let e;return"string"===b(t)&&(e=document.getElementById(t)||document.getElementsByClassName(t)[0]||document.querySelector(t)),b(t).includes("element")&&(e=t),e}function b(t){return Object.prototype.toString.call(t).replace("object ","").match(/\w+/g)[0].toLowerCase()}function y(t){let e=t.querySelector(".".concat(c));return e||(e=document.createElement("div"),e.classList.add(c),t.appendChild(e)),e}function w(t,e,o){let n=g(".".concat(s));if(!n&&t)if(n=document.createElement("div"),n.className=s,n.style.zIndex=m()+1,n.style.position="fixed",n.style.backgroundColor="rgba(0, 0, 0, 0.1)",document.body.appendChild(n),o)n.style.inset="0";else{const{left:e,top:o}=getComputedStyle(t),{x:i,y:c,width:s,height:a}=t.getBoundingClientRect();n.style.left="".concat(e&&"auto"!=e?e:i+"px"),n.style.top="".concat(o&&"auto"!=o?o:c+"px"),n.style.width="".concat(s,"px"),n.style.height="".concat(a,"px")}return n&&(n.style.display=e?"block":"none"),n}function x(t,e){if((t=g(t))||((t=document.createElement("dialog")).show||"function"===b(t.show)||(t=document.createElement("div")),e.container.appendChild(t)),!t.show&&"function"!==b(t.show)){const e={open:{value:!1,writable:!0,configurable:!1},show:{value:function(){this.open=!0,this.style.display="block"},writable:!1,configurable:!1},showModal:{value:function(t,e){w(t,!0,e)},writable:!1,configurable:!1},close:{value:function(){this.open=!1,this.style.display="none"},writable:!1,configurable:!1}};Object.defineProperties(t,e)}return t.className+=" ".concat(o," ").concat(o,"-").concat(document.getElementsByClassName(o).length),e.content&&(t.innerHTML="<div class='".concat(o,"-content'>").concat(e.content,"</div>")),e.width&&(t.style.width="".concat(e.width,"px")),t}function v(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const o=Object.assign({},e,t);return"auto"!==o.width&&isNaN(o.width)&&k("the width option is invalid"),isNaN(o.targetGap)&&k("the targetGap option is invalid"),isNaN(o.boundryGap)&&k("the boundryGap option is invalid"),Object.keys(d).includes(o.placement)||k("the placement option is invalid"),g(o.container)||k("the container option is invalid"),d[o.placement].includes(o.direction)||k("the direction does not comply with the placement option: '".concat(o.placement,"'")),o.container&&(o.container=g(o.container)),o.theme&&l[o.theme]&&(o.theme=l[o.theme]),o}function E(t){if(!this.target.contains(t.target)||this.target===document.body){const{x:e,y:o,width:n,height:i}=this.popup.getBoundingClientRect(),c=e+n,s=o+i;this.options.closeByOutSide&&(t.clientX>c||t.clientX<e||t.clientY>s||t.clientY<o)&&this.hide(),this.options.selfClick||t.clientX>e&&t.clientX<c&&t.clientY>o&&t.clientY<s&&this.hide()}}function k(t){throw new Error(t)}function O(t,e){let o;if(document.getElementById(e))o=document.getElementById(e).sheet;else{const t=document.createElement("style");t.id=e,t.type="text/css",document.getElementsByTagName("head")[0].appendChild(t),window.createPopup||t.appendChild(document.createTextNode("")),o=document.styleSheets[document.styleSheets.length-1]}for(let e=0;e<t.length;e++){let n=t[e],i=n[0];if([...o.rules].filter((t=>t.selectorText===i)).length)break;let c=1,s="";for("[object Array]"===Object.prototype.toString.call(n[1][0])&&(n=n[1],c=0);c<n.length;c++){let t=n[c];s+="".concat(t[0],":").concat(t[1]).concat(t[2]?" !important":"",";\n")}o.insertRule?o.insertRule(i+"{"+s+"}",o.cssRules.length):o.addRule(i,s,-1)}}const j=class{constructor(t,e,n){const i=function(t){let e,o,n,i=[...t];if(i.length||k('at least "target" parameter is required'),e=g(i[0]),e||k("target parameter is invalid"),1===i.length&&(n=v(),o=x(o,n)),i.length>=2){const t=i[2]?2:1;n=v("object"===b(i[t])?i[t]:{}),o=x(i[1],n)}return"inside"===n.placement&&(n.needArrow=!1,n.container=e),e!==document.body&&n.container!==document.body||(n.fullScreen=!0),{target:e,popup:o,options:n}}([t,e,n]);this.target=i.target,this.popup=i.popup,this.options=i.options,this.popup.classList.add(o);for(const t in a)O([a[t]],o);this.cleanup=this.update(),this.handleEvent=E.bind(this)}update(){const e=h.bind(this);return(0,t.autoUpdate)(this.target,this.popup,e)}show(t){if(t||this.popup.show(),this.options.singleOpen){const t=[...document.getElementsByClassName(o)].filter((t=>t!==this.popup));t.length&&t.forEach((t=>t.close&&t.close()))}document.addEventListener("click",this.handleEvent,!0)}showModal(){const t="DIALOG"==this.popup.nodeName;this.options.fullScreen?this.popup.showModal(document.body,this.options.fullScreen):t?(this.popup.show(),w(this.options.container,!0,this.options.fullScreen)):this.popup.showModal(this.options.container),this.show(t)}hide(t){this.popup.close();const e=w();t&&e&&e.remove(),document.removeEventListener("click",this.handleEvent,!0)}destroy(){this.hide(!0),this.cleanup(),this.popup.remove(),document.removeEventListener("click",this.handleEvent,!0);for(let t in this)this[t]=null}}})(),i.default})()));