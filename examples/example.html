<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>popup</title>
</head>
<style>
    * {
        margin: 0;
        padding: 0;
    }

    .popup-btn{
        position: absolute;
        top: 300px;
        left: 100px;
        width: 80px;
        height: 30px;
    }

    .container {
        width: 600px;
        height: 600px;
        border: 1px solid #000;
        overflow: auto;
        position: relative;
        left: 100px;
        top: 0;
    }

    .box {
        width: 100%;
        height: 1500px;
        position: relative;
    }

    .ease-popup {
        display: none;
    }
</style>

<body>
    
    <div class="container">
        <div class="box">
            <button class="popup-btn">click</button>
           
        </div>
    </div>
    <dialog class="ease-popup">
        <div class="popup-content">
            <span>Lorem ipsum dolor sit amet consectetur adipisicing elit. Itaque, id repellat. Consequuntur,
                similique
                odit quam perspiciatis vero blanditiis eum accusamus ex, ipsum illo reiciendis sint eos
                possimus? Harum,
                laboriosam ipsa.</span>
        </div>
    </dialog>
</body>
<script src="../dist/EasePopup.min.js"></script>
<script>
   

    const btn = document.querySelector(".popup-btn")
    const dialog = document.querySelector(".ease-popup")
    const instance = new EasePopup({
        target: btn,
        direction: "right",
        container: '.container',
        content: "hello world",
        width: 'auto',
        placement: "outside",
        selfClick: true,
        fullScreen: false,
        boundryGap: 10,
        closeByOutSide: true,
        needArrow: true,
        offset: [0, 0],
        singleOpen: false,
        onShow: () => {
            console.log("show")
        },
        onHide: () => {
            console.log("hide")
            //instance.destroy()
        }
    })
    console.log(instance)
    instance.update({
        popup: document.createElement("div"), onDestroy: () => {
            console.log('destroy')
        }
    })
    btn.addEventListener("click", () => {

        if (instance.options.popup.visible) {

            instance.hide()

        } else {
            instance.show()
        }
        console.log(instance)
    })
</script>

</html>