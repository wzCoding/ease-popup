<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>popup</title>
</head>
<style>
    * {
        margin: 0;
        padding: 0;
    }

    body {
        width: 100vw;
        height: 100vh;
    }

    .popup-btn,
    .popup-btn1 {
        position: absolute;
        top: 0;
        left: 600px;
        width: 80px;
        height: 30px;
    }

    .popup-btn1 {
        left: 120px;
        top: 200px;
    }

    .container {
        width: 600px;
        height: 500px;
        border: 1px solid #000;
        overflow: auto;
        position: relative;
        left: 300px;
        top: 100px;
    }

    .box {
        width: 100%;
        height: 1500px;
        position: relative;
    }

    .ease-popup {
        display: none;
    }
</style>

<body>
    <button class="popup-btn">click</button>

    <div class="container">
        <div class="box">
            <button class="popup-btn1">click</button>
        </div>
    </div>
    <dialog class="ease-popup">
        <div class="popup-content">
            <span>Lorem ipsum dolor sit amet consectetur adipisicing elit. Itaque, id repellat. Consequuntur, similique
                odit quam perspiciatis vero blanditiis eum accusamus ex, ipsum illo reiciendis sint eos possimus? Harum,
                laboriosam ipsa.</span>
        </div>
    </dialog>
</body>
<script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
<script src="../dist/EasePopup.min.js"></script>
<script>
    const { toRef } = Vue
    
    const btn = document.querySelector(".popup-btn")
    const btn1 = document.querySelector(".popup-btn1")
    const dialog = document.querySelector(".ease-popup")
    const instance = new EasePopup({
        target: btn,
        direction: "bottom",
        container: 'body',
        content: "hello world",
        width: 300,
        placement: "outside",
        selfClick: true,
        fullScreen: false,
        boundryGap: 10,
        targetGap: 30,
        closeByOutSide: true,
        needArrow: true,
        offset: [50, 50],
        singleOpen: false
    })

    btn.addEventListener("click", () => {

        if (instance.open) {

            instance.hide()
            // instance1.destroy()
        } else {
            instance.show()
        }
        console.log(instance)
    })

    const instance1 = new EasePopup(
        {
            target: btn1,
            direction: "left",
            container: 'body',
            width: 200,
            placement: "outside",
            selfClick: false,
            fullScreen: false,
            boundryGap: 10,
            targetGap: 30,
            closeByOutSide: false,
            needArrow: false,
            offset: [50, 50],
            placement: 'outside',
            singleOpen: true
        }
    )
    instance1.update({ target: btn1, popup: dialog })
    const open = toRef(instance1.options.popup,'open')
    
    btn1.addEventListener("click", () => {

        if (open.value) {

            instance1.hide()
            // instance1.destroy()
        } else {
            instance1.show()
        }
        console.log(instance1) 
        console.log(open)
    })
</script>

</html>